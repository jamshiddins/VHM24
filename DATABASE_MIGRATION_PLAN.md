# ğŸ”„ ĞŸĞ»Ğ°Ğ½ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ñ Supabase Ğ½Ğ° Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼ÑƒÑ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñƒ Ğ‘Ğ”

## ğŸ“‹ Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Supabase ĞºĞ°Ğº ĞµĞ´Ğ¸Ğ½Ğ°Ñ PostgreSQL Ğ±Ğ°Ğ·Ğ°
- Ğ’ÑĞµ Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑÑ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑÑ‚ Ğ¾Ğ´Ğ½Ñƒ ÑÑ…ĞµĞ¼Ñƒ
- ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹ Ñ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ Ğ¸ Ğ¸Ğ·Ğ¾Ğ»ÑÑ†Ğ¸ĞµĞ¹

## ğŸ¯ Ğ¦ĞµĞ»ĞµĞ²Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

### Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 1: Railway PostgreSQL Ñ Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸ĞµĞ¼ Ğ¿Ğ¾ ÑÑ…ĞµĞ¼Ğ°Ğ¼
```
Railway PostgreSQL
â”œâ”€â”€ Schema: auth_service
â”‚   â”œâ”€â”€ users
â”‚   â””â”€â”€ audit_logs (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ auth)
â”œâ”€â”€ Schema: machines_service  
â”‚   â”œâ”€â”€ machines
â”‚   â”œâ”€â”€ locations
â”‚   â”œâ”€â”€ machine_telemetry
â”‚   â””â”€â”€ service_history
â”œâ”€â”€ Schema: inventory_service
â”‚   â”œâ”€â”€ inventory_items
â”‚   â”œâ”€â”€ stock_movements
â”‚   â””â”€â”€ machine_inventory
â”œâ”€â”€ Schema: tasks_service
â”‚   â”œâ”€â”€ tasks
â”‚   â””â”€â”€ task_actions
â””â”€â”€ Schema: shared
    â””â”€â”€ transactions
```

### Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 2: ĞÑ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ ÑĞµÑ€Ğ²Ğ¸ÑĞ°
- auth_db â†’ Railway PostgreSQL / Neon
- machines_db â†’ Railway PostgreSQL / Neon  
- inventory_db â†’ Railway PostgreSQL / Neon
- tasks_db â†’ Railway PostgreSQL / Neon

## ğŸ› ï¸ ĞŸĞ»Ğ°Ğ½ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸

### Ğ¤Ğ°Ğ·Ğ° 1: ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹
1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Railway PostgreSQL Ğ¸Ğ»Ğ¸ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Neon
2. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Redis Ğ´Ğ»Ñ ĞºĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ (ÑƒĞ¶Ğµ ĞµÑÑ‚ÑŒ Ğ² Railway)
3. ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ

### Ğ¤Ğ°Ğ·Ğ° 2: Ğ Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ ÑÑ…ĞµĞ¼ Prisma
1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğµ schema Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ ÑĞµÑ€Ğ²Ğ¸ÑĞ°
2. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğµ Prisma ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹
3. ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ñ‹ Ğ² ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ñ…

### Ğ¤Ğ°Ğ·Ğ° 3: ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
1. Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸Ğ· Supabase
2. Ğ¢Ñ€Ğ°Ğ½ÑÑ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¸ Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ ÑÑ…ĞµĞ¼Ğ°Ğ¼
3. Ğ˜Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ Ğ² Ğ½Ğ¾Ğ²Ñ‹Ğµ Ğ±Ğ°Ğ·Ñ‹

### Ğ¤Ğ°Ğ·Ğ° 4: ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²
1. ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ Ğ² ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑĞµ
2. Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Redis ĞºĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
3. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ connection pooling

## ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ¿Ğ¾ÑĞ»Ğµ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸

```
packages/database/
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â””â”€â”€ schema.prisma
â”‚   â”œâ”€â”€ machines/
â”‚   â”‚   â””â”€â”€ schema.prisma
â”‚   â”œâ”€â”€ inventory/
â”‚   â”‚   â””â”€â”€ schema.prisma
â”‚   â”œâ”€â”€ tasks/
â”‚   â”‚   â””â”€â”€ schema.prisma
â”‚   â””â”€â”€ shared/
â”‚       â””â”€â”€ schema.prisma
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ clients/
â”‚   â”‚   â”œâ”€â”€ auth.client.ts
â”‚   â”‚   â”œâ”€â”€ machines.client.ts
â”‚   â”‚   â”œâ”€â”€ inventory.client.ts
â”‚   â”‚   â””â”€â”€ tasks.client.ts
â”‚   â””â”€â”€ index.ts
â””â”€â”€ package.json
```

## ğŸ”§ Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸

### Connection Pooling
```javascript
// Ğ”Ğ»Ñ Railway PostgreSQL
DATABASE_URL="postgresql://user:pass@host:5432/dbname?pgbouncer=true&connection_limit=10"

// Ğ”Ğ»Ñ Neon
DATABASE_URL="postgresql://user:pass@host.neon.tech/dbname?sslmode=require"
```

### Redis Ğ´Ğ»Ñ ĞºĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
```javascript
REDIS_URL="redis://default:password@redis.railway.internal:6379"
```

## âš¡ ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° Ğ½Ğ¾Ğ²Ğ¾Ğ¹ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹
1. âœ… Ğ˜Ğ·Ğ¾Ğ»ÑÑ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¼ĞµĞ¶Ğ´Ñƒ ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ğ¼Ğ¸
2. âœ… ĞĞµĞ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾Ğµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
3. âœ… Ğ›ÑƒÑ‡ÑˆĞ°Ñ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ
4. âœ… Ğ£Ğ¿Ñ€Ğ¾Ñ‰ĞµĞ½Ğ½Ñ‹Ğµ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸
5. âœ… Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… Ğ‘Ğ” Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²
