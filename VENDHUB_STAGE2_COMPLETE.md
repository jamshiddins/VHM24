# VendHub –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ - –ó–ê–í–ï–†–®–ï–ù

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –°–µ—Ä–≤–∏—Å—ã —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤
- ‚úÖ **SyrupBottleService** - –ø–æ–ª–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–∏—Ä–æ–ø–æ–≤
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ (—Å–∫–ª–∞–¥ ‚Üí –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ ‚Üí —É—Å—Ç–∞–Ω–æ–≤–∫–∞ ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
  - –ö–æ–Ω—Ç—Ä–æ–ª—å —Å—Ä–æ–∫–æ–≤ –≥–æ–¥–Ω–æ—Å—Ç–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≤—ã—è–≤–ª–µ–Ω–∏–µ–º –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö
  - –û–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–æ—Ç–æ—Ñ–∏–∫—Å–∞—Ü–∏–µ–π
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

- ‚úÖ **WaterBottleService** - —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–æ–¥—ã
  - –í–µ—Å–æ–≤–æ–π —É—á–µ—Ç —Å —Ä–∞—Å—á–µ—Ç–æ–º –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –æ—Å—Ç–∞–≤—à–µ–π—Å—è –≤–æ–¥—ã
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–º–µ–Ω—ã
  - –û–ø–µ—Ä–∞—Ü–∏–∏ –≤–∑–≤–µ—à–∏–≤–∞–Ω–∏—è —Å —Ñ–æ—Ç–æ—Ñ–∏–∫—Å–∞—Ü–∏–µ–π
  - –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –±—É—Ç—ã–ª–æ–∫ –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é

- ‚úÖ **BagService** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—É–º–∫–∞–º–∏/–∫–æ–º–ø–ª–µ–∫—Ç–∞–º–∏
  - –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø–∞–∫–æ–≤–∫–∞ —Å—É–º–æ–∫ —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –º–∞—à–∏–Ω
  - –°–≤—è–∑—å —Å –∑–∞–¥–∞—á–∞–º–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞
  - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –≤–æ–∑–≤—Ä–∞—Ç–∞

### 2. –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- ‚úÖ **RevenueService** - —É—á–µ—Ç –¥–æ—Ö–æ–¥–æ–≤
  - –ú–Ω–æ–≥–æ–∫–∞–Ω–∞–ª—å–Ω—ã–π —É—á–µ—Ç (–ø—Ä–æ–¥–∞–∂–∏, QR-–ø–ª–∞—Ç–µ–∂–∏, VIP, —Ç–µ—Å—Ç–æ–≤—ã–µ)
  - –°–∏—Å—Ç–µ–º–∞ —Ñ–∏—Å–∫–∞–ª–∏–∑–∞—Ü–∏–∏
  - –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞–º–∏
  - –≠–∫—Å–ø–æ—Ä—Ç –∏ –∏–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
  - –¢–æ–ø –º–∞—à–∏–Ω –ø–æ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏

- ‚úÖ **ExpenseService** - —É—á–µ—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤
  - –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤ —Å –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
  - –°–∏—Å—Ç–µ–º–∞ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (pending ‚Üí approved ‚Üí paid)
  - –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∏ –º–µ—Ç–æ–¥–∞–º –æ–ø–ª–∞—Ç—ã
  - –ú–∞—Å—Å–æ–≤–æ–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ

- ‚úÖ **IncassationService** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–∫–∞—Å—Å–∞—Ü–∏–µ–π
  - –°–±–æ—Ä –Ω–∞–ª–∏—á–Ω—ã—Ö —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π —Ñ–æ—Ç–æ—Ñ–∏–∫—Å–∞—Ü–∏–µ–π
  - –ü–µ—Ä–µ–¥–∞—á–∞ –º–µ–Ω–µ–¥–∂–µ—Ä—É —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
  - –ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π
  - –î–Ω–µ–≤–Ω–∞—è —Å–≤–æ–¥–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º

### 3. –°–∏—Å—Ç–µ–º–∞ —Å–≤–µ—Ä–∫–∏ (–∫–ª—é—á–µ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
- ‚úÖ **ReconciliationService** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–≤–µ—Ä–∫–∞
  - **–°–≤–µ—Ä–∫–∞ –ø—Ä–æ–¥–∞–∂**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∂ –∏ –ø–ª–∞—Ç–µ–∂–µ–π
  - **–°–≤–µ—Ä–∫–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤**: –∫–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞—Å—Ö–æ–¥–∞ –ø–æ —Ä–µ—Ü–µ–ø—Ç–∞–º vs —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π
  - –í—ã—è–≤–ª–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π –∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π
  - –ú–∞—Å—Å–æ–≤–∞—è —Å–≤–µ—Ä–∫–∞ –ø–æ –≤—Å–µ–º –º–∞—à–∏–Ω–∞–º
  - –≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Å–≤–µ—Ä–æ–∫

### 4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- ‚úÖ **–ï–¥–∏–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–æ–≤** —Å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏
- ‚úÖ **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è** –≤–æ –≤—Å–µ—Ö GET –º–µ—Ç–æ–¥–∞—Ö
- ‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** –≤ –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–∏—Å–µ
- ‚úÖ **–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö** –¥–ª—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
- ‚úÖ **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç** —á–µ—Ä–µ–∑ index.js

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–°–æ–∑–¥–∞–Ω–æ —Å–µ—Ä–≤–∏—Å–æ–≤**: 7
- **–û–±—â–∏—Ö –º–µ—Ç–æ–¥–æ–≤**: ~150
- **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤**: ~50
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞**: ~4000
- **–í—Ä–µ–º—è –Ω–∞ —ç—Ç–∞–ø**: ~2 —á–∞—Å–∞

## üîß –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–≤–µ—Ä–∫–∞ –ø—Ä–æ–¥–∞–∂ –∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤
- –í—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å–±–æ—Ä–∫–µ —Å—É–º–æ–∫
- –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á –ø–æ –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏

### –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞
- –§–æ—Ç–æ—Ñ–∏–∫—Å–∞—Ü–∏—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π vs –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö
- –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- –ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –ø–æ—Ä–æ–≥–∞–º–∏

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Å–µ–º –∞—Å–ø–µ–∫—Ç–∞–º —Ä–∞–±–æ—Ç—ã
- –¢–æ–ø –º–∞—à–∏–Ω, –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤, –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- –¢—Ä–µ–Ω–¥–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (–¥–Ω–µ–≤–Ω–∞—è, –º–µ—Å—è—á–Ω–∞—è)
- –í—ã—è–≤–ª–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π –∏ –ø—Ä–æ–±–ª–µ–º

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏–º–ø–æ—Ä—Ç—É/—ç–∫—Å–ø–æ—Ä—Ç—É –¥–∞–Ω–Ω—ã—Ö
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- API-ready –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —ç—Ç–∞–ø—ã

### –≠—Ç–∞–ø 3: API Routes (1-2 –Ω–µ–¥–µ–ª–∏)
- [ ] REST API endpoints –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (Joi/Zod)
- [ ] –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ —Ä–æ–ª—è–º
- [ ] Middleware –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### –≠—Ç–∞–ø 4: –°–∏—Å—Ç–µ–º–∞ –∑–∞–¥–∞—á –∏ —á–µ–∫-–ª–∏—Å—Ç–æ–≤ (2-3 –Ω–µ–¥–µ–ª–∏)  
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ Task –º–æ–¥–µ–ª–∏
- [ ] TaskChecklist –∏ TaskChecklistStep
- [ ] FSM –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á
- [ ] –®–∞–±–ª–æ–Ω—ã –∑–∞–¥–∞—á –ø–æ —Ç–∏–ø–∞–º

### –≠—Ç–∞–ø 5: Telegram FSM-–±–æ—Ç (3-4 –Ω–µ–¥–µ–ª–∏)
- [ ] –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–æ—Ç–∞
- [ ] FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è —Ä–æ–ª–µ–π
- [ ] –°—Ü–µ–Ω–∞—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏

## üìù –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –î–∏–∑–∞–π–Ω-–ø–∞—Ç—Ç–µ—Ä–Ω—ã
- **Service Layer Pattern** - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö
- **Repository Pattern** - —á–µ—Ä–µ–∑ Prisma ORM
- **Strategy Pattern** - —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –æ–ø–µ—Ä–∞—Ü–∏–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å include —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î
- –ò–Ω–¥–µ–∫—Å—ã –ø–æ –∫–ª—é—á–µ–≤—ã–º –ø–æ–ª—è–º

### –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- –õ–µ–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å

**–≠—Ç–∞–ø 2 –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤!** –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–º —É—Ä–æ–≤–Ω–µ –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å API —Å–ª–æ–µ–º.

–û—Å–Ω–æ–≤–∞ VendHubBot –∑–∞–ª–æ–∂–µ–Ω–∞ - —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (API, Web, Telegram) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–≥–∞—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é —Å–∏—Å—Ç–µ–º—ã.
