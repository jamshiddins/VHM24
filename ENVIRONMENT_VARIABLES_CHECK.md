# üîç VHM24 Environment Variables Check Report

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

### üìä –°—Ç–∞—Ç—É—Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ .env —Ñ–∞–π–ª–µ

#### üîê Security (–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è        | –°—Ç–∞—Ç—É—Å       | –ó–Ω–∞—á–µ–Ω–∏–µ                                                       | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ                           |
| ----------------- | ------------ | -------------------------------------------------------------- | ------------------------------------ |
| `JWT_SECRET`      | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `your-super-secret-jwt-key-change-this-in-production-12345678` | **‚ö†Ô∏è –ù–£–ñ–ù–û –ò–ó–ú–ï–ù–ò–¢–¨ –¥–ª—è production** |
| `ALLOWED_ORIGINS` | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `http://localhost:3000,http://localhost:8080`                  | –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏             |

#### üóÑÔ∏è Database (–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è          | –°—Ç–∞—Ç—É—Å       | –ó–Ω–∞—á–µ–Ω–∏–µ                                                                                    | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ         |
| ------------------- | ------------ | ------------------------------------------------------------------------------------------- | ------------------ |
| `DATABASE_URL`      | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `postgresql://postgres:tcaqejEXLSdaUdMQXFqEDGBQvavWVbGy@metro.proxy.rlwy.net:36258/railway` | Railway PostgreSQL |
| `AUTH_DATABASE_URL` | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | –¢–æ –∂–µ —á—Ç–æ DATABASE_URL                                                                      | –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ          |

#### üö™ Ports (–ü–æ—Ä—Ç—ã)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è       | –°—Ç–∞—Ç—É—Å       | –ó–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ       |
| ---------------- | ------------ | -------- | ---------------- |
| `PORT`           | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `8000`   | –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ä—Ç    |
| `GATEWAY_PORT`   | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `8000`   | Gateway –ø–æ—Ä—Ç     |
| `AUTH_PORT`      | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `3001`   | Auth —Å–µ—Ä–≤–∏—Å      |
| `MACHINES_PORT`  | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `3002`   | Machines —Å–µ—Ä–≤–∏—Å  |
| `INVENTORY_PORT` | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `3003`   | Inventory —Å–µ—Ä–≤–∏—Å |
| `TASKS_PORT`     | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `3004`   | Tasks —Å–µ—Ä–≤–∏—Å     |
| `BUNKERS_PORT`   | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `3005`   | Bunkers —Å–µ—Ä–≤–∏—Å   |

#### ü§ñ Telegram Bot

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è           | –°—Ç–∞—Ç—É—Å       | –ó–Ω–∞—á–µ–Ω–∏–µ                                         | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ                 |
| -------------------- | ------------ | ------------------------------------------------ | -------------------------- |
| `TELEGRAM_BOT_TOKEN` | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `8015112367:AAHi25gHhI3p1X1uyuCAt8vUnlMZRrcoKEQ` | –†–µ–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω             |
| `ADMIN_IDS`          | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `42283329`                                       | Telegram ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ |

#### üåê API Configuration

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –°—Ç–∞—Ç—É—Å       | –ó–Ω–∞—á–µ–Ω–∏–µ                       | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ        |
| ---------- | ------------ | ------------------------------ | ----------------- |
| `API_URL`  | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `http://localhost:8000/api/v1` | –õ–æ–∫–∞–ª—å–Ω—ã–π API URL |

#### üìÅ File Storage

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è      | –°—Ç–∞—Ç—É—Å       | –ó–Ω–∞—á–µ–Ω–∏–µ    | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ          |
| --------------- | ------------ | ----------- | ------------------- |
| `UPLOAD_DIR`    | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `./uploads` | –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∑–∞–≥—Ä—É–∑–æ–∫ |
| `MAX_FILE_SIZE` | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `10485760`  | 10MB –ª–∏–º–∏—Ç          |

#### üö¶ Rate Limiting

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è          | –°—Ç–∞—Ç—É—Å       | –ó–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ   |
| ------------------- | ------------ | -------- | ------------ |
| `RATE_LIMIT_MAX`    | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `100`    | 100 –∑–∞–ø—Ä–æ—Å–æ–≤ |
| `RATE_LIMIT_WINDOW` | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `60000`  | –ó–∞ 1 –º–∏–Ω—É—Ç—É  |

#### üïí Session

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è       | –°—Ç–∞—Ç—É—Å       | –ó–Ω–∞—á–µ–Ω–∏–µ   | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
| ---------------- | ------------ | ---------- | ---------- |
| `SESSION_EXPIRY` | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `86400000` | 24 —á–∞—Å–∞    |

#### üåç Environment

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –°—Ç–∞—Ç—É—Å       | –ó–Ω–∞—á–µ–Ω–∏–µ      | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ           |
| ---------- | ------------ | ------------- | -------------------- |
| `NODE_ENV` | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `development` | –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ |

#### üöÇ Railway Specific

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è            | –°—Ç–∞—Ç—É—Å    | –ó–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ                      |
| --------------------- | --------- | -------- | ------------------------------- |
| `RAILWAY_ENVIRONMENT` | ‚ö†Ô∏è –ü—É—Å—Ç–æ–µ | ``       | Railway —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |
| `RAILWAY_STATIC_URL`  | ‚ö†Ô∏è –ü—É—Å—Ç–æ–µ | ``       | Railway —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |

#### üóÉÔ∏è Redis (–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è  | –°—Ç–∞—Ç—É—Å       | –ó–Ω–∞—á–µ–Ω–∏–µ                                                                       | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ    |
| ----------- | ------------ | ------------------------------------------------------------------------------ | ------------- |
| `REDIS_URL` | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `redis://default:RgADgivPNrtbjDUQYGWfzkJnmwCEnPil@maglev.proxy.rlwy.net:56313` | Railway Redis |
| `REDIS_TTL` | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `3600`                                                                         | 1 —á–∞—Å TTL     |

#### üìß Email (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è   | –°—Ç–∞—Ç—É—Å       | –ó–Ω–∞—á–µ–Ω–∏–µ           | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ       |
| ------------ | ------------ | ------------------ | ---------------- |
| `SMTP_HOST`  | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `smtp.gmail.com`   | Gmail SMTP       |
| `SMTP_PORT`  | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `587`              | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç |
| `SMTP_USER`  | ‚ö†Ô∏è –ü—É—Å—Ç–æ–µ    | ``                 | –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ   |
| `SMTP_PASS`  | ‚ö†Ô∏è –ü—É—Å—Ç–æ–µ    | ``                 | –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ   |
| `EMAIL_FROM` | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ | `noreply@vhm24.ru` | –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å      |

#### üîî Push Notifications (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è       | –°—Ç–∞—Ç—É—Å    | –ó–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ     |
| ---------------- | --------- | -------- | -------------- |
| `FCM_SERVER_KEY` | ‚ö†Ô∏è –ü—É—Å—Ç–æ–µ | ``       | –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
| `APNS_KEY_ID`    | ‚ö†Ô∏è –ü—É—Å—Ç–æ–µ | ``       | –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
| `APNS_TEAM_ID`   | ‚ö†Ô∏è –ü—É—Å—Ç–æ–µ | ``       | –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |

## üöÇ Railway Environment Variables

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–ª—è Railway:

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ
DATABASE_URL=postgresql://postgres:tcaqejEXLSdaUdMQXFqEDGBQvavWVbGy@metro.proxy.rlwy.net:36258/railway
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-12345678
TELEGRAM_BOT_TOKEN=8015112367:AAHi25gHhI3p1X1uyuCAt8vUnlMZRrcoKEQ
ADMIN_IDS=42283329

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ
REDIS_URL=redis://default:RgADgivPNrtbjDUQYGWfzkJnmwCEnPil@maglev.proxy.rlwy.net:56313
NODE_ENV=production
```

### Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç:

```bash
PORT=8000                    # Railway –Ω–∞–∑–Ω–∞—á–∏—Ç –ø–æ—Ä—Ç
RAILWAY_ENVIRONMENT=true     # Railway —É—Å—Ç–∞–Ω–æ–≤–∏—Ç
RAILWAY_STATIC_URL=...       # Railway —É—Å—Ç–∞–Ω–æ–≤–∏—Ç
```

## ‚ö†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è production

### 1. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:

```bash
# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π JWT —Å–µ–∫—Ä–µ—Ç
JWT_SECRET=–Ω–æ–≤—ã–π-—Å—É–ø–µ—Ä-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á-–¥–ª—è-production-–º–∏–Ω–∏–º—É–º-32-—Å–∏–º–≤–æ–ª–∞

# –û–±–Ω–æ–≤–∏—Ç—å CORS –¥–ª—è production –¥–æ–º–µ–Ω–∞
ALLOWED_ORIGINS=https://your-domain.com,https://api.your-domain.com
```

### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è production:

```bash
NODE_ENV=production
API_URL=https://your-railway-app.railway.app/api/v1
```

### 3. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:

```bash
# Email –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
FCM_SERVER_KEY=your-fcm-server-key
```

## üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
node -e "require('dotenv').config(); console.log(process.env)"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
node test-redis-connection.js

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Telegram Bot
node -e "console.log('Bot token:', process.env.TELEGRAM_BOT_TOKEN ? 'Set' : 'Not set')"
```

### Railway –ø—Ä–æ–≤–µ—Ä–∫–∞:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ Railway
railway variables

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ Railway
railway variables set JWT_SECRET=your-new-secret-key

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
railway logs
```

## üìä –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

### ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ:

- **Database**: Railway PostgreSQL –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- **Telegram Bot**: –¢–æ–∫–µ–Ω –∏ Admin ID –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- **Redis**: Railway Redis –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- **Ports**: –í—Å–µ –ø–æ—Ä—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- **Basic Security**: JWT —Å–µ–∫—Ä–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –¥–ª—è production)

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è –¥–ª—è production:

- **JWT_SECRET**: –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π
- **ALLOWED_ORIGINS**: –û–±–Ω–æ–≤–∏—Ç—å –¥–ª—è production –¥–æ–º–µ–Ω–∞
- **NODE_ENV**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ production
- **API_URL**: –û–±–Ω–æ–≤–∏—Ç—å –¥–ª—è Railway URL

### üìù –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:

- Email –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
- Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
- Monitoring (Sentry, Prometheus)
- Payment systems (PayMe, Click)

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–í–°–ï –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï –ù–ê–°–¢–†–û–ï–ù–´**

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω–æ, —Ç–∞–∫ –∏ –Ω–∞ Railway. –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–∏—Ç—å JWT_SECRET –∏ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏**: 09.07.2025  
**–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö**: 35  
**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º**: 0  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π**: 3 (–¥–ª—è production)
