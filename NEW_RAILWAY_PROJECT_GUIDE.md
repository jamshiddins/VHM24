# üöÇ –ü–û–®–ê–ì–û–í–û–ï –°–û–ó–î–ê–ù–ò–ï –ù–û–í–û–ì–û RAILWAY –ü–†–û–ï–ö–¢–ê

## –®–ê–ì 1: –£–î–ê–õ–ï–ù–ò–ï –°–¢–ê–†–û–ì–û –ü–†–û–ï–ö–¢–ê

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://railway.app
2. –í–æ–π–¥–∏—Ç–µ –≤ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç
3. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç **VHM24**
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Danger Zone**
5. –ù–∞–∂–º–∏—Ç–µ **Delete Project**
6. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ

## –®–ê–ì 2: –°–û–ó–î–ê–ù–ò–ï –ù–û–í–û–ì–û –ü–†–û–ï–ö–¢–ê

1. –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ Railway –Ω–∞–∂–º–∏—Ç–µ **"New Project"**
2. –í—ã–±–µ—Ä–∏—Ç–µ **"Deploy from GitHub repo"**
3. –ù–∞–π–¥–∏—Ç–µ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π **jamshiddins/VHM24**
4. Branch: **main**
5. –ù–∞–∑–æ–≤–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç **VHM24-NEW**
6. –ù–∞–∂–º–∏—Ç–µ **"Deploy"**

## –®–ê–ì 3: –î–û–ë–ê–í–õ–ï–ù–ò–ï DATABASES

### PostgreSQL Database:
1. –í –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞–∂–º–∏—Ç–µ **"Add Service"**
2. –í—ã–±–µ—Ä–∏—Ç–µ **"Database"** ‚Üí **"PostgreSQL"**
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (2-3 –º–∏–Ω—É—Ç—ã)

### Redis Database:
1. –í –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞–∂–º–∏—Ç–µ **"Add Service"**
2. –í—ã–±–µ—Ä–∏—Ç–µ **"Database"** ‚Üí **"Redis"**
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (1-2 –º–∏–Ω—É—Ç—ã)

## –®–ê–ì 4: –ù–ê–°–¢–†–û–ô–ö–ê ENVIRONMENT VARIABLES

1. –û—Ç–∫—Ä–æ–π—Ç–µ VHM24-NEW service (–æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Variables"**
3. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

### Reference Variables (–≤–∞–∂–Ω–æ!):
- **DATABASE_URL** ‚Üí Reference Variable ‚Üí PostgreSQL Database
- **REDIS_URL** ‚Üí Reference Variable ‚Üí Redis Database

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–∑ RAILWAY_ENV_VARIABLES.txt):

```
NODE_ENV=production
PORT=8000
GATEWAY_PORT=8000
JWT_SECRET=933f4234d58f69c74957860bf5a7a838e7c6f51f36876e5d415842bd796d6b5e
JWT_EXPIRES_IN=7d
AUTH_PORT=3001
MACHINES_PORT=3002
INVENTORY_PORT=3003
TASKS_PORT=3004
BUNKERS_PORT=3005
S3_ENDPOINT=https://nyc3.digitaloceanspaces.com
S3_REGION=nyc3
S3_BUCKET=vhm24-uploads-2025
S3_ACCESS_KEY=DO00XEB6BC6XZ8Q2M4KQ
S3_SECRET_KEY=SeYpfXGQ4eKR8WEDdGKjtLo0c6BK82r2hfnrzB63swk
AWS_ACCESS_KEY_ID=DO00XEB6BC6XZ8Q2M4KQ
AWS_SECRET_ACCESS_KEY=SeYpfXGQ4eKR8WEDdGKjtLo0c6BK82r2hfnrzB63swk
AWS_REGION=nyc3
AWS_S3_BUCKET=vhm24-uploads-2025
TELEGRAM_BOT_TOKEN=8015112367:AAHi25gHhI3p1X1uyuCAt8vUnlMZRrcoKEQ
ADMIN_IDS=42283329X
USE_MULTIPLE_DATABASES=false
EMAIL_FROM=noreply@vhm24.com
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SENTRY_DSN=
LOG_LEVEL=info
START_COMMAND=npm start
```

## –®–ê–ì 5: –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ô DEPLOYMENT

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –°–∫–ª–æ–Ω–∏—Ä—É–µ—Ç –∫–æ–¥ –∏–∑ GitHub
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (npm ci)
- ‚úÖ –°–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Prisma –∫–ª–∏–µ–Ω—Ç
- ‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç –ø—É–±–ª–∏—á–Ω—ã–π URL

## –®–ê–ì 6: –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–û–°–ü–û–°–û–ë–ù–û–°–¢–ò

1. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è deployment (5-10 –º–∏–Ω—É—Ç)
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: https://vhm24-new-production.up.railway.app)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ health endpoint:
   ```
   https://your-new-url.up.railway.app/health
   ```
4. –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
   ```json
   {"status":"ok","timestamp":"2025-07-14T..."}
   ```

## –®–ê–ì 7: –û–ë–ù–û–í–õ–ï–ù–ò–ï WEBHOOK URL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Telegram –±–æ—Ç:
1. –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π –ø—É–±–ª–∏—á–Ω—ã–π URL
2. –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é **TELEGRAM_WEBHOOK_URL**:
   ```
   https://your-new-url.up.railway.app/webhook
   ```

## –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π VHM24 –Ω–∞ –Ω–æ–≤–æ–º Railway –ø—Ä–æ–µ–∫—Ç–µ**
‚úÖ **PostgreSQL + Redis —Ä–∞–±–æ—Ç–∞—é—Ç**
‚úÖ **DigitalOcean S3 –ø–æ–¥–∫–ª—é—á–µ–Ω**
‚úÖ **–í—Å–µ 24 API endpoint'–∞ –¥–æ—Å—Ç—É–ø–Ω—ã**
‚úÖ **Telegram bot –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ**

## TROUBLESHOOTING

### –ï—Å–ª–∏ deployment –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ DATABASE_URL –∏ REDIS_URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–∞–∫ Reference Variables
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Railway Dashboard

### –ï—Å–ª–∏ 502 –æ—à–∏–±–∫–∏:
1. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Prisma –º–∏–≥—Ä–∞—Ü–∏–π (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 5-10 –º–∏–Ω—É—Ç)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ PORT=8000 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ deployment –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ

## –í–†–ï–ú–Ø –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Ø

- **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞**: 2-3 –º–∏–Ω—É—Ç—ã
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ databases**: 3-5 –º–∏–Ω—É—Ç  
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö**: 5-10 –º–∏–Ω—É—Ç
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π deployment**: 5-10 –º–∏–Ω—É—Ç
- **–û–±—â–µ–µ –≤—Ä–µ–º—è**: 15-30 –º–∏–Ω—É—Ç

**üéâ VHM24 –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**
