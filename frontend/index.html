<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VHM24 - VendHub Manager</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .status {
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
        }

        .status-item {
            display: inline-block;
            margin: 10px 20px;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
        }

        .status-online {
            background: #28a745;
            color: white;
        }

        .status-offline {
            background: #dc3545;
            color: white;
        }

        .main-content {
            padding: 30px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section h2 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .api-test {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .api-card {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .api-card:hover {
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        .api-card h3 {
            color: #495057;
            margin-bottom: 15px;
        }

        .btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            transition: background 0.3s ease;
        }

        .btn:hover {
            background: #0056b3;
        }

        .btn-success {
            background: #28a745;
        }

        .btn-success:hover {
            background: #1e7e34;
        }

        .btn-danger {
            background: #dc3545;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .result {
            margin-top: 15px;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 0.9em;
            max-height: 200px;
            overflow-y: auto;
        }

        .result.success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }

        .result.error {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }

        .telegram-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .feature-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }

        .feature-card h4 {
            margin-bottom: 10px;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü§ñ VHM24 - VendHub Manager</h1>
            <p>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ—Ä–≥–æ–≤—ã–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∞–º–∏</p>
        </div>

        <div class="status">
            <div class="status-item" id="api-status">üîå API: –ü—Ä–æ–≤–µ—Ä–∫–∞...</div>
            <div class="status-item" id="telegram-status">ü§ñ Telegram: –ü—Ä–æ–≤–µ—Ä–∫–∞...</div>
            <div class="status-item" id="db-status">üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –ü—Ä–æ–≤–µ—Ä–∫–∞...</div>
            <div class="status-item" id="storage-status">‚òÅÔ∏è –•—Ä–∞–Ω–∏–ª–∏—â–µ: –ü—Ä–æ–≤–µ—Ä–∫–∞...</div>
        </div>

        <div class="main-content">
            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div class="section">
                <h2>üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-number" id="total-machines">-</div>
                        <div>–ê–≤—Ç–æ–º–∞—Ç–æ–≤</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="total-users">-</div>
                        <div>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="total-inventory">-</div>
                        <div>–¢–æ–≤–∞—Ä–æ–≤</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="daily-sales">-</div>
                        <div>–ü—Ä–æ–¥–∞–∂ —Å–µ–≥–æ–¥–Ω—è</div>
                    </div>
                </div>
            </div>

            <!-- API –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ -->
            <div class="section">
                <h2>üîå –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API</h2>
                <div class="api-test">
                    <div class="api-card">
                        <h3>üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</h3>
                        <button class="btn" onclick="testAuth()">–¢–µ—Å—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏</button>
                        <button class="btn" onclick="testRegister()">–¢–µ—Å—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</button>
                        <div class="result" id="auth-result"></div>
                    </div>

                    <div class="api-card">
                        <h3>üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h3>
                        <button class="btn" onclick="testUsers()">–ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</button>
                        <button class="btn" onclick="createUser()">–°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</button>
                        <div class="result" id="users-result"></div>
                    </div>

                    <div class="api-card">
                        <h3>ü§ñ –ê–≤—Ç–æ–º–∞—Ç—ã</h3>
                        <button class="btn" onclick="testMachines()">–ü–æ–ª—É—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç—ã</button>
                        <button class="btn" onclick="checkMachineStatus()">–°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ–º–∞—Ç–∞</button>
                        <div class="result" id="machines-result"></div>
                    </div>

                    <div class="api-card">
                        <h3>üì¶ –°–∫–ª–∞–¥</h3>
                        <button class="btn" onclick="testInventory()">–ü–æ–ª—É—á–∏—Ç—å —Ç–æ–≤–∞—Ä—ã</button>
                        <button class="btn" onclick="testMovements()">–î–≤–∏–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤</button>
                        <div class="result" id="inventory-result"></div>
                    </div>

                    <div class="api-card">
                        <h3>‚öñÔ∏è –ë—É–Ω–∫–µ—Ä—ã</h3>
                        <button class="btn" onclick="testBunkers()">–ü–æ–ª—É—á–∏—Ç—å –±—É–Ω–∫–µ—Ä—ã</button>
                        <button class="btn" onclick="weighBunker()">–í–∑–≤–µ—Å–∏—Ç—å –±—É–Ω–∫–µ—Ä</button>
                        <div class="result" id="bunkers-result"></div>
                    </div>

                    <div class="api-card">
                        <h3>üçΩÔ∏è –†–µ—Ü–µ–ø—Ç—ã</h3>
                        <button class="btn" onclick="testRecipes()">–ü–æ–ª—É—á–∏—Ç—å —Ä–µ—Ü–µ–ø—Ç—ã</button>
                        <button class="btn" onclick="calculateRecipe()">–†–∞—Å—á–µ—Ç —Ä–µ—Ü–µ–ø—Ç–∞</button>
                        <div class="result" id="recipes-result"></div>
                    </div>
                </div>
            </div>

            <!-- Telegram Bot —Ñ—É–Ω–∫—Ü–∏–∏ -->
            <div class="section">
                <h2>ü§ñ Telegram Bot —Ñ—É–Ω–∫—Ü–∏–∏</h2>
                <div class="telegram-features">
                    <div class="feature-card">
                        <h4>üëë –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</h4>
                        <p>4 –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</p>
                    </div>
                    <div class="feature-card">
                        <h4>üìã –ú–µ–Ω–µ–¥–∂–µ—Ä</h4>
                        <p>5 –∫–æ–º–∞–Ω–¥ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏</p>
                    </div>
                    <div class="feature-card">
                        <h4>üì¶ –û–ø–µ—Ä–∞—Ç–æ—Ä —Å–∫–ª–∞–¥–∞</h4>
                        <p>5 –∫–æ–º–∞–Ω–¥ —Å–∫–ª–∞–¥–∞</p>
                    </div>
                    <div class="feature-card">
                        <h4>üîß –û–ø–µ—Ä–∞—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–æ–≤</h4>
                        <p>5 –∫–æ–º–∞–Ω–¥ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è</p>
                    </div>
                    <div class="feature-card">
                        <h4>‚öôÔ∏è –¢–µ—Ö–Ω–∏–∫</h4>
                        <p>5 –∫–æ–º–∞–Ω–¥ —Ä–µ–º–æ–Ω—Ç–∞</p>
                    </div>
                    <div class="feature-card">
                        <h4>üîÑ FSM –ü—Ä–æ—Ü–µ—Å—Å—ã</h4>
                        <p>4 –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞</p>
                    </div>
                </div>
                <button class="btn btn-success" onclick="testTelegramBot()" style="margin-top: 20px;">
                    –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Telegram Bot
                </button>
                <div class="result" id="telegram-result"></div>
            </div>

            <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
            <div class="section">
                <h2>‚ö° –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
                <button class="btn btn-success" onclick="runFullTest()">üß™ –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
                <button class="btn" onclick="checkSystemHealth()">üíä –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã</button>
                <button class="btn" onclick="generateReport()">üìÑ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞</button>
                <button class="btn btn-danger" onclick="resetSystem()">üîÑ –°–±—Ä–æ—Å —Å–∏—Å—Ç–µ–º—ã</button>
                
                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–ø–µ—Ä–∞—Ü–∏—è...</p>
                </div>
                <div class="result" id="action-result"></div>
            </div>
        </div>
    </div>

    <script>
        const API_BASE = 'http://localhost:8000';
        let authToken = null;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            checkSystemStatus();
            loadStats();
        });

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º
        async function checkSystemStatus() {
            // API
            try {
                const response = await fetch(`${API_BASE}/health`);
                if (response.ok) {
                    updateStatus('api-status', 'üîå API: –û–Ω–ª–∞–π–Ω', 'status-online');
                } else {
                    updateStatus('api-status', 'üîå API: –û—à–∏–±–∫–∞', 'status-offline');
                }
            } catch (error) {
                updateStatus('api-status', 'üîå API: –û—Ñ–ª–∞–π–Ω', 'status-offline');
            }

            // Telegram Bot
            try {
                const response = await fetch('https://api.telegram.org/bot8015112367:AAHi25gHhI3p1X1uyuCAt8vUnlMZRrcoKEQ/getMe');
                const data = await response.json();
                if (data.ok) {
                    updateStatus('telegram-status', 'ü§ñ Telegram: –û–Ω–ª–∞–π–Ω', 'status-online');
                } else {
                    updateStatus('telegram-status', 'ü§ñ Telegram: –û—à–∏–±–∫–∞', 'status-offline');
                }
            } catch (error) {
                updateStatus('telegram-status', 'ü§ñ Telegram: –û—Ñ–ª–∞–π–Ω', 'status-offline');
            }

            // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—á–µ—Ä–µ–∑ API)
            updateStatus('db-status', 'üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –û–Ω–ª–∞–π–Ω', 'status-online');
            
            // –•—Ä–∞–Ω–∏–ª–∏—â–µ
            updateStatus('storage-status', '‚òÅÔ∏è –•—Ä–∞–Ω–∏–ª–∏—â–µ: –û–Ω–ª–∞–π–Ω', 'status-online');
        }

        function updateStatus(elementId, text, className) {
            const element = document.getElementById(elementId);
            element.textContent = text;
            element.className = `status-item ${className}`;
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        async function loadStats() {
            try {
                if (!authToken) {
                    await testAuth();
                }

                // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
                const usersResponse = await apiCall('/api/v1/users');
                if (usersResponse.success) {
                    document.getElementById('total-users').textContent = usersResponse.total || usersResponse.users.length;
                }

                // –ê–≤—Ç–æ–º–∞—Ç—ã
                const machinesResponse = await apiCall('/api/v1/machines');
                if (machinesResponse.success) {
                    document.getElementById('total-machines').textContent = machinesResponse.total || machinesResponse.machines.length;
                }

                // –¢–æ–≤–∞—Ä—ã
                const inventoryResponse = await apiCall('/api/v1/inventory');
                if (inventoryResponse.success) {
                    document.getElementById('total-inventory').textContent = inventoryResponse.total || inventoryResponse.inventory.length;
                }

                // –ü—Ä–æ–¥–∞–∂–∏
                const salesResponse = await apiCall('/api/v1/reports/daily');
                if (salesResponse.success) {
                    document.getElementById('daily-sales').textContent = salesResponse.report.sales.transactions || 0;
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:', error);
            }
        }

        // API —Ñ—É–Ω–∫—Ü–∏–∏
        async function apiCall(endpoint, options = {}) {
            const defaultOptions = {
                headers: {
                    'Content-Type': 'application/json',
                    ...(authToken && { 'Authorization': `Bearer ${authToken}` })
                }
            };

            const response = await fetch(`${API_BASE}${endpoint}`, {
                ...defaultOptions,
                ...options
            });

            return await response.json();
        }

        function showResult(elementId, data, isSuccess = true) {
            const element = document.getElementById(elementId);
            element.textContent = JSON.stringify(data, null, 2);
            element.className = `result ${isSuccess ? 'success' : 'error'}`;
        }

        // –¢–µ—Å—Ç—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
        async function testAuth() {
            try {
                const response = await apiCall('/api/v1/auth/login', {
                    method: 'POST',
                    body: JSON.stringify({
                        email: 'admin@vhm24.com',
                        password: 'admin123'
                    })
                });

                if (response.success) {
                    authToken = response.token;
                    showResult('auth-result', response);
                } else {
                    showResult('auth-result', response, false);
                }
            } catch (error) {
                showResult('auth-result', { error: error.message }, false);
            }
        }

        async function testRegister() {
            try {
                const response = await apiCall('/api/v1/auth/register', {
                    method: 'POST',
                    body: JSON.stringify({
                        email: 'test@vhm24.com',
                        password: 'test123',
                        name: '–¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',
                        role: 'operator'
                    })
                });

                showResult('auth-result', response);
            } catch (error) {
                showResult('auth-result', { error: error.message }, false);
            }
        }

        // –¢–µ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        async function testUsers() {
            try {
                const response = await apiCall('/api/v1/users');
                showResult('users-result', response);
            } catch (error) {
                showResult('users-result', { error: error.message }, false);
            }
        }

        async function createUser() {
            try {
                const response = await apiCall('/api/v1/users', {
                    method: 'POST',
                    body: JSON.stringify({
                        email: `user${Date.now()}@vhm24.com`,
                        name: '–ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',
                        role: 'operator'
                    })
                });

                showResult('users-result', response);
            } catch (error) {
                showResult('users-result', { error: error.message }, false);
            }
        }

        // –¢–µ—Å—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–æ–≤
        async function testMachines() {
            try {
                const response = await apiCall('/api/v1/machines');
                showResult('machines-result', response);
            } catch (error) {
                showResult('machines-result', { error: error.message }, false);
            }
        }

        async function checkMachineStatus() {
            try {
                const response = await apiCall('/api/v1/machines/1/status');
                showResult('machines-result', response);
            } catch (error) {
                showResult('machines-result', { error: error.message }, false);
            }
        }

        // –¢–µ—Å—Ç—ã —Å–∫–ª–∞–¥–∞
        async function testInventory() {
            try {
                const response = await apiCall('/api/v1/inventory');
                showResult('inventory-result', response);
            } catch (error) {
                showResult('inventory-result', { error: error.message }, false);
            }
        }

        async function testMovements() {
            try {
                const response = await apiCall('/api/v1/inventory/movements');
                showResult('inventory-result', response);
            } catch (error) {
                showResult('inventory-result', { error: error.message }, false);
            }
        }

        // –¢–µ—Å—Ç—ã –±—É–Ω–∫–µ—Ä–æ–≤
        async function testBunkers() {
            try {
                const response = await apiCall('/api/v1/bunkers');
                showResult('bunkers-result', response);
            } catch (error) {
                showResult('bunkers-result', { error: error.message }, false);
            }
        }

        async function weighBunker() {
            try {
                const response = await apiCall('/api/v1/bunkers/1/weigh', {
                    method: 'POST',
                    body: JSON.stringify({ weight: 3750 })
                });
                showResult('bunkers-result', response);
            } catch (error) {
                showResult('bunkers-result', { error: error.message }, false);
            }
        }

        // –¢–µ—Å—Ç—ã —Ä–µ—Ü–µ–ø—Ç–æ–≤
        async function testRecipes() {
            try {
                const response = await apiCall('/api/v1/recipes');
                showResult('recipes-result', response);
            } catch (error) {
                showResult('recipes-result', { error: error.message }, false);
            }
        }

        async function calculateRecipe() {
            try {
                const response = await apiCall('/api/v1/recipes/1/calculate', {
                    method: 'POST',
                    body: JSON.stringify({ quantity: 5 })
                });
                showResult('recipes-result', response);
            } catch (error) {
                showResult('recipes-result', { error: error.message }, false);
            }
        }

        // –¢–µ—Å—Ç Telegram Bot
        async function testTelegramBot() {
            try {
                const response = await fetch('https://api.telegram.org/bot8015112367:AAHi25gHhI3p1X1uyuCAt8vUnlMZRrcoKEQ/getMe');
                const data = await response.json();
                showResult('telegram-result', data);
            } catch (error) {
                showResult('telegram-result', { error: error.message }, false);
            }
        }

        // –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
        async function runFullTest() {
            showLoading(true);
            try {
                await testAuth();
                await testUsers();
                await testMachines();
                await testInventory();
                await testBunkers();
                await testRecipes();
                await testTelegramBot();
                
                showResult('action-result', { 
                    message: '–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ',
                    timestamp: new Date().toISOString()
                });
            } catch (error) {
                showResult('action-result', { error: error.message }, false);
            } finally {
                showLoading(false);
            }
        }

        async function checkSystemHealth() {
            try {
                const health = await apiCall('/health');
                showResult('action-result', health);
            } catch (error) {
                showResult('action-result', { error: error.message }, false);
            }
        }

        async function generateReport() {
            try {
                const report = await apiCall('/api/v1/reports/daily');
                showResult('action-result', report);
            } catch (error) {
                showResult('action-result', { error: error.message }, false);
            }
        }

        function resetSystem() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å —Å–∏—Å—Ç–µ–º—É?')) {
                authToken = null;
                location.reload();
            }
        }

        function showLoading(show) {
            document.getElementById('loading').style.display = show ? 'block' : 'none';
        }

        // –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
        setInterval(loadStats, 30000);
        setInterval(checkSystemStatus, 60000);
    </script>
</body>
</html>
