# VendHub System Documentation

## –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

VendHub - —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ–Ω–¥–∏–Ω–≥–æ–≤—ã–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∞–º–∏, –≤–∫–ª—é—á–∞—é—â–∞—è:

- ü§ñ Telegram –±–æ—Ç –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
- üñ•Ô∏è Backend API —Å–µ—Ä–≤–µ—Ä
- üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
- üì± Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

## –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### ADMIN
- –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ä–æ–ª—è–º–∏
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã

### MANAGER
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞–º–∏

### WAREHOUSE
- –†–∞–±–æ—Ç–∞ —Å–æ —Å–∫–ª–∞–¥–æ–º
- –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É–º–æ–∫
- –£—á–µ—Ç –æ—Å—Ç–∞—Ç–∫–æ–≤

### OPERATOR
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á –ø–æ –º–∞—Ä—à—Ä—É—Ç–∞–º
- –ó–∞–º–µ–Ω–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤
- –ò–Ω–∫–∞—Å—Å–∞—Ü–∏—è

### TECHNICIAN
- –†–µ–º–æ–Ω—Ç –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### DRIVER
- –õ–æ–≥–∏—Å—Ç–∏–∫–∞ –∏ –¥–æ—Å—Ç–∞–≤–∫–∞
- –£—á–µ—Ç —Ç–æ–ø–ª–∏–≤–∞ –∏ –ø—Ä–æ–±–µ–≥–∞

## –¢–∏–ø—ã –∑–∞–¥–∞—á

### INGREDIENT_REPLACEMENT
–ó–∞–º–µ–Ω–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –≤ –∞–≤—Ç–æ–º–∞—Ç–∞—Ö:
- –°–Ω—è—Ç–∏–µ —Å—Ç–∞—Ä—ã—Ö –±—É–Ω–∫–µ—Ä–æ–≤
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–æ–≤—ã—Ö –±—É–Ω–∫–µ—Ä–æ–≤
- –í–∑–≤–µ—à–∏–≤–∞–Ω–∏–µ –∏ —Ñ–æ—Ç–æ—Ñ–∏–∫—Å–∞—Ü–∏—è

### WATER_REPLACEMENT
–ó–∞–º–µ–Ω–∞ –≤–æ–¥—ã:
- –°–Ω—è—Ç–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –±—É—Ç—ã–ª–æ–∫
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–æ–≤—ã—Ö –±—É—Ç—ã–ª–æ–∫
- –ö–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Å–∞

### CLEANING
–ß–∏—Å—Ç–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–æ–≤:
- –í–Ω–µ—à–Ω—è—è —á–∏—Å—Ç–∫–∞
- –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —á–∏—Å—Ç–∫–∞
- –¢–µ—Å—Ç–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞

### CASH_COLLECTION
–ò–Ω–∫–∞—Å—Å–∞—Ü–∏—è:
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö
- –§–æ—Ç–æ—Ñ–∏–∫—Å–∞—Ü–∏—è
- –ü–µ—Ä–µ–¥–∞—á–∞ –º–µ–Ω–µ–¥–∂–µ—Ä—É

## API Endpoints

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `GET /api/users` - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `POST /api/users` - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `PUT /api/users/:id/role` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏

### –ó–∞–¥–∞—á–∏
- `GET /api/tasks` - –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
- `POST /api/tasks` - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
- `PUT /api/tasks/:id/status` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞

### –ß–µ–∫-–ª–∏—Å—Ç—ã
- `PUT /api/checklists/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ–∫-–ª–∏—Å—Ç–∞

## –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```bash
npm install
cd backend && npm install
cd ../apps/telegram-bot && npm install
```

2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
cp .env.example .env
# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```

3. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã:
```bash
node start-vendhub.js
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
- `users` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
- `machines` - –í–µ–Ω–¥–∏–Ω–≥–æ–≤—ã–µ –∞–≤—Ç–æ–º–∞—Ç—ã
- `tasks` - –ó–∞–¥–∞—á–∏
- `task_checklists` - –ß–µ–∫-–ª–∏—Å—Ç—ã –∑–∞–¥–∞—á
- `hoppers` - –ë—É–Ω–∫–µ—Ä—ã
- `ingredients` - –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã
- `sales` - –ü—Ä–æ–¥–∞–∂–∏
- `cash_collections` - –ò–Ω–∫–∞—Å—Å–∞—Ü–∏–∏
- `action_logs` - –õ–æ–≥–∏ –¥–µ–π—Å—Ç–≤–∏–π

## Telegram –±–æ—Ç

### –ö–æ–º–∞–Ω–¥—ã:
- `/start` - –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
- –ö–Ω–æ–ø–∫–∏ –º–µ–Ω—é –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –§—É–Ω–∫—Ü–∏–∏ –ø–æ —Ä–æ–ª—è–º:
- **–û–ø–µ—Ä–∞—Ç–æ—Ä**: –ú–æ–∏ –∑–∞–¥–∞—á–∏, –ú–∞—Ä—à—Ä—É—Ç, –ò–Ω–∫–∞—Å—Å–∞—Ü–∏—è
- **–°–∫–ª–∞–¥**: –°–∫–ª–∞–¥, –°—É–º–∫–∏, –û—Å—Ç–∞—Ç–∫–∏
- **–ú–µ–Ω–µ–¥–∂–µ—Ä**: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á, –û—Ç—á–µ—Ç—ã, –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ Telegram ID
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ—É–Ω–∫—Ü–∏—è–º
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- –õ–æ–≥–∏ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–¥–∞—á
- –ö–æ–Ω—Ç—Ä–æ–ª—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —á–µ–∫-–ª–∏—Å—Ç–æ–≤
- –ê—É–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```
VHM24/
‚îú‚îÄ‚îÄ backend/                 # Backend API —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/     # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/        # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middleware/      # Middleware
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes/          # –ú–∞—Ä—à—Ä—É—Ç—ã API
‚îÇ   ‚îî‚îÄ‚îÄ prisma/              # –°—Ö–µ–º–∞ –ë–î
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îî‚îÄ‚îÄ telegram-bot/        # Telegram –±–æ—Ç
‚îÇ       ‚îî‚îÄ‚îÄ src/
‚îÇ           ‚îú‚îÄ‚îÄ handlers/    # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ           ‚îî‚îÄ‚îÄ services/    # –°–µ—Ä–≤–∏—Å—ã –±–æ—Ç–∞
‚îî‚îÄ‚îÄ docs/                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:
1. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ö–µ–º—É –ë–î –≤ `backend/prisma/schema.prisma`
2. –°–æ–∑–¥–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é: `npx prisma db push`
3. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –∏ —Å–µ—Ä–≤–∏—Å—ã
4. –û–±–Ω–æ–≤–∏—Ç–µ API –º–∞—Ä—à—Ä—É—Ç—ã
5. –î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ Telegram –±–æ—Ç

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö:
- –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É —Å–∏—Å—Ç–µ–º—ã